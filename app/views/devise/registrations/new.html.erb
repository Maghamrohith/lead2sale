<h2>Sign up</h2>
 <%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
   <%= devise_error_messages! %>
  <div class="form-group">
    <%= f.label :FullName %><br/>
    <%= f.text_field :full_name, autofocus: true, class: "form-control" %>
    <span id = "usernameError"></span>
  </div>
  <div class="form-group">
    <%= f.label :email %><br />
    <%= f.email_field :email, autofocus: "off", class: "form-control" %>
    <span id = "emailError"></span>
  </div>
  <div class ="form-group">
    <%=f.label :Phone %><br/>
    <%= f.text_field :phone, class: "form-control"%>
    <span id = "mobileError"></span>
  </div>
  
 <div class="form-group">
    <%= f.label :password %>
    <% if @minimum_password_length %>
    <em>(<%= @minimum_password_length %> characters minimum)</em>
    <% end %><br />
    <%= f.password_field :password,class: "form-control" %>
    <span id ="passwordError"></span>
  </div>

  <div class="field">
    <%= f.label :password_confirmation %><br />
    <%= f.password_field :password_confirmation, autocomplete: "off" %>
    <span id ="passwordConformationError"></span>
  </div>

  <div class="actions">
    <%= f.submit "Sign up" %>
  </div>
<%end%>

<%= render "devise/shared/links" %>
<script>
  var alphabetFormatter = /^[a-zA-Z]+$/;
  var emailFormatter = /^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$/;
  var mobileFormatter = /^[0-9]+$/;
  var usernameErrorHandle = document.getElementById('usernameError')
  var usernameHandle = document.getElementById('user_full_name')
  var emailErrorHandle = document.getElementById('emailError')
  var emailHandle = document.getElementById('user_email');
  var mobileErrorHandle = document.getElementById('mobileError')
  var mobileHandle = document.getElementById('user_phone')
  var passwordErrorHandle = document.getElementById('passwordError')
  var passwordHandle = document.getElementById('user_password')
  var passwordConfirmationErrorHandle = document.getElementById('passwordConfirmationError')
  var passwordConfirmationHandle = document.getElementById('user_password_confirmation')
  usernameHandle.addEventListener('blur',function(){
    if(usernameHandle.value ==""){
      usernameErrorHandle.innerHTML = "can't be blank"; 
    }else if(!alphabetFormatter.test(usernameHandle.value)){
      usernameErrorHandle.innerHTML = "should be alphabetic"
    }else if(usernameHandle.value.length < 6){
      usernameErrorHandle.innerHTML = "should be minimum 6 letters"

    }else{
      usernameErrorHandle.innerHTML = ""
    }
  },false);
  emailHandle.addEventListener('blur',function(){
    if(emailHandle.value ==""){
      emailErrorHandle.innerHTML = "can't be blank";
    }else if(!emailFormatter.test(emailHandle.value)){
      emailErrorHandle.innerHTML = "should be a valid format";
    }else{
      emailErrorHandle.innerHTML = "";
    } 
  },false);
  mobileHandle.addEventListener('blur',function(){
    if(mobileHandle.value ==""){
      mobileErrorHandle.innerHTML = "can't be blank"
    }else if(!mobileFormatter.test(mobileHandle.value)){
      mobileErrorHandle.innerHTML = "should be numbers"
    }else if(mobileHandle.value.length != 10){
      mobileErrorHandle.innerHTML = "should be 10 digits"
    }else{
      mobileErrorHandle.innerHTML = "";
    }
  },false);

  passwordHandle.addEventListener('blur',function(){
    if(passwordHandle.value ==""){
      passwordErrorHandle.innerHTML = "can't be blank";
    }else if(passwordHandle.value.length <6){
      passwordErrorHandle.innerHTML = "should be minimum of 6 characters"
    }else{
      passwordErrorHandle.innerHTML = "";
    }
  },false);

  passwordConfirmationHandle.addEventListener('blur',function(){
    if(passwordConfirmationHandle.value == ""){
      passwordConfirmationErrorHandle.innerHTML= "can't be blank";
    }else if(passwordHandle.value != passwordConfirmationHandle.value){
      passwordConfirmationErrorHandle.innerHTML = "password Does'nt match";
    }else{
      passwordConfirmationErrorHandle.innerHTML = ""; 
    }
  },false);
</script>